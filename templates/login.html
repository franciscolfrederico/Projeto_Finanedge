{% extends "base.html" %}
{% block content %}
<div class="bg-waves">
  <div class="login-card">
    <div class="logo">
      <svg viewBox="0 0 24 24" width="56" height="56" aria-hidden="true">
        <path fill="#3b82f6" d="M19.14,12.94a7.14,7.14,0,1,1-7.14-7.14A7.14,7.14,0,0,1,19.14,12.94Z"/>
        <circle cx="12" cy="10" r="2" fill="#0b1020"/>
        <path fill="#0b1020" d="M7.5,16a4.5,4.5,0,0,1,9,0Z"/>
      </svg>
    </div>

    <h1 class="title">Bem-vindo de volta</h1>
    <p class="subtitle">Faça login para continuar gerenciando seus projetos.</p>

    <form method="POST" action="{{ url_for('login') }}" class="form">
      <input type="hidden" name="role" id="role" value="Equipe">

      <div class="role-switch">
        <button type="button" class="role-btn active" data-role="Equipe">Equipe</button>
        <button type="button" class="role-btn" data-role="Empresa">Empresa</button>
      </div>

      <label class="label">Email</label>
      <div class="input-group">
        <input type="text" name="email" placeholder="ict_user" value="ict_user" required>
        <span class="right-icon" title="Email">&#128273;</span>
      </div>

      <label class="label">Senha</label>
      <div class="input-group">
        <input id="pwd" type="password" name="password" placeholder="••••" required>
        <button type="button" class="icon-btn" id="togglePwd" aria-label="Mostrar/ocultar senha" title="Mostrar/ocultar senha">👁️</button>
      </div>

      <button type="submit" class="primary-btn">Entrar</button>
    </form>
  </div>
</div>

<script>
  // alternância Equipe/Empresa
  const roleInput = document.getElementById('role');
  const buttons = document.querySelectorAll('.role-btn');
  buttons.forEach(btn => {
    btn.addEventListener('click', () => {
      buttons.forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      roleInput.value = btn.dataset.role;
    });
  });

  // mostrar/ocultar senha
  const toggle = document.getElementById('togglePwd');
  const pwd = document.getElementById('pwd');
  toggle.addEventListener('click', () => {
    pwd.type = pwd.type === 'password' ? 'text' : 'password';
  });
</script>
{% endblock %}
